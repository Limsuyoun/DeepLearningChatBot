exec ${PAGER:-/usr/bin/less} "$0" || exit 1
-----------------------------------------------------------------------------
not close where =  (array([0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 2, 2, 2,
       2, 3, 3, 3, 3, 3, 3, 3, 3, 5, 5, 5, 5, 5, 5, 5, 5, 6, 6, 6, 6, 6, 6,
       6, 6, 8, 8, 8, 8, 8, 8, 8, 8, 9, 9, 9, 9, 9, 9, 9, 9]), array([0, 0, 0, 0, 0, 1, 1, 1, 0, 0, 0, 0, 0, 1, 1, 1, 0, 0, 0, 0, 0, 1, 1,
       1, 0, 0, 0, 0, 0, 1, 1, 1, 0, 0, 0, 0, 0, 1, 1, 1, 0, 0, 0, 0, 0, 1,
       1, 1, 0, 0, 0, 0, 0, 1, 1, 1, 0, 0, 0, 0, 0, 1, 1, 1]), array([0, 1, 2, 3, 4, 0, 1, 2, 0, 1, 2, 3, 4, 0, 1, 2, 0, 1, 2, 3, 4, 0, 1,
       2, 0, 1, 2, 3, 4, 0, 1, 2, 0, 1, 2, 3, 4, 0, 1, 2, 0, 1, 2, 3, 4, 0,
       1, 2, 0, 1, 2, 3, 4, 0, 1, 2, 0, 1, 2, 3, 4, 0, 1, 2]))
not close lhs =  [ 2.96397495  2.68671227  2.37682676  2.97555017  2.5141499   2.84991145
  2.6719923   2.90225744  4.36566305  4.96148205  5.13281298  5.0320406
  5.02637863  4.92853546  3.92143011  5.24014378  4.03113127  4.40025806
  4.87013149  4.88625717  4.46953201  4.68179131  4.01604176  4.41730404
  6.2493515   6.30387402  6.1673522   6.4866519   6.2883544   6.83184052
  4.58651638  6.35881901  6.5850873   6.28686333  5.83861828  6.56684256
  5.70047522  6.06906986  5.24406528  6.27148724  5.33658934  6.27192402
  5.90459156  6.00007057  6.54654074  5.64751053  5.33368492  6.6700201
  3.0206275   2.70945978  2.52486372  3.60808253  2.41674089  2.88701725
  3.15754271  2.73110104  7.88023615  7.1884861   6.52089739  8.08734131
  7.20234203  7.38520002  6.12847519  6.8085022 ]
not close rhs =  [ 2.96396375  2.68670201  2.3768177   2.97553873  2.51414037  2.84990048
  2.67198205  2.90224648  4.36564636  4.96146297  5.13279343  5.03202152
  5.02635956  4.92851686  3.92141509  5.24012375  4.03111601  4.40024137
  4.8701129   4.88623857  4.46951485  4.68177366  4.0160265   4.41728735
  6.24932766  6.30385017  6.16732883  6.4866271   6.28833055  6.83181429
  4.58649874  6.35879469  6.58506203  6.28683949  5.83859587  6.56681728
  5.70045328  6.0690465   5.24404526  6.27146339  5.33656883  6.27190018
  5.90456915  6.00004768  6.54651594  5.64748907  5.33366442  6.66999483
  3.02061605  2.70944953  2.52485418  3.6080687   2.4167316   2.88700628
  3.15753055  2.73109055  7.88020611  7.18845844  6.52087259  8.08731079
  7.20231438  7.38517189  6.12845182  6.80847645]
not close dif =  [  1.12056732e-05   1.02519989e-05   9.05990601e-06   1.14440918e-05
   9.53674316e-06   1.09672546e-05   1.02519989e-05   1.09672546e-05
   1.66893005e-05   1.90734863e-05   1.95503235e-05   1.90734863e-05
   1.90734863e-05   1.85966492e-05   1.50203705e-05   2.00271606e-05
   1.52587891e-05   1.66893005e-05   1.85966492e-05   1.85966492e-05
   1.71661377e-05   1.76429749e-05   1.52587891e-05   1.66893005e-05
   2.38418579e-05   2.38418579e-05   2.33650208e-05   2.47955322e-05
   2.38418579e-05   2.62260437e-05   1.76429749e-05   2.43186951e-05
   2.52723694e-05   2.38418579e-05   2.24113464e-05   2.52723694e-05
   2.19345093e-05   2.33650208e-05   2.00271606e-05   2.38418579e-05
   2.05039978e-05   2.38418579e-05   2.24113464e-05   2.28881836e-05
   2.47955322e-05   2.14576721e-05   2.05039978e-05   2.52723694e-05
   1.14440918e-05   1.02519989e-05   9.53674316e-06   1.38282776e-05
   9.29832458e-06   1.09672546e-05   1.21593475e-05   1.04904175e-05
   3.00407410e-05   2.76565552e-05   2.47955322e-05   3.05175781e-05
   2.76565552e-05   2.81333923e-05   2.33650208e-05   2.57492065e-05]
not close tol =  [  3.96396354e-06   3.68670180e-06   3.37681786e-06   3.97553868e-06
   3.51414019e-06   3.84990062e-06   3.67198209e-06   3.90224659e-06
   5.36564630e-06   5.96146265e-06   6.13279326e-06   6.03202125e-06
   6.02635964e-06   5.92851666e-06   4.92141498e-06   6.24012364e-06
   5.03111596e-06   5.40024121e-06   5.87011255e-06   5.88623834e-06
   5.46951469e-06   5.68177347e-06   5.01602653e-06   5.41728741e-06
   7.24932761e-06   7.30385000e-06   7.16732848e-06   7.48662706e-06
   7.28833038e-06   7.83181440e-06   5.58649845e-06   7.35879439e-06
   7.58506212e-06   7.28683926e-06   6.83859571e-06   7.56681720e-06
   6.70045301e-06   7.06904621e-06   6.24404493e-06   7.27146335e-06
   6.33656F
======================================================================
FAIL: testEmbeddingLookupSparse (__main__.EmbeddingLookupSparseTest)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/home/pi/.cache/bazel/_bazel_pi/4770c5ca1786316d370c900c0b614a6d/tensorflow/bazel-out/local_linux-opt/bin/tensorflow/python/kernel_tests/embedding_ops_test.runfiles/tensorflow/python/kernel_tests/embedding_ops_test.py", line 492, in testEmbeddingLookupSparse
    self.assertAllClose(np_embedding_sum, tf_embedding_sum)
  File "/home/pi/.cache/bazel/_bazel_pi/4770c5ca1786316d370c900c0b614a6d/tensorflow/bazel-out/local_linux-opt/bin/tensorflow/python/kernel_tests/embedding_ops_test.runfiles/tensorflow/python/framework/test_util.py", line 442, in assertAllClose
    np.testing.assert_allclose(a, b, rtol=rtol, atol=atol)
  File "/usr/lib/python2.7/dist-packages/numpy/testing/utils.py", line 1183, in assert_allclose
    verbose=verbose, header=header)
  File "/usr/lib/python2.7/dist-packages/numpy/testing/utils.py", line 644, in assert_array_compare
    raise AssertionError(msg)
AssertionError: 
Not equal to tolerance rtol=1e-06, atol=1e-06

(mismatch 100.0%)
 x: array([[[ 2.96397495,  2.68671227,  2.37682676,  2.97555017,  2.5141499 ],
        [ 2.84991145,  2.6719923 ,  2.90225744,  2.44838333,  2.73965859]],
...
 y: array([[[ 2.96396375,  2.68670201,  2.3768177 ,  2.97553873,  2.51414037],
        [ 2.84990048,  2.67198205,  2.90224648,  2.44838333,  2.73965859]],
...

----------------------------------------------------------------------
Ran 1 test in 0.299s

FAILED (failures=1)
873e-06   7.27189990e-06   6.90456909e-06   7.00004739e-06
   7.54651592e-06   6.64748904e-06   6.33366426e-06   7.66999528e-06
   4.02061596e-06   3.70944963e-06   3.52485404e-06   4.60806859e-06
   3.41673149e-06   3.88700619e-06   4.15753038e-06   3.73109060e-06
   8.88020622e-06   8.18845820e-06   7.52087226e-06   9.08731090e-06
   8.20231435e-06   8.38517190e-06   7.12845167e-06   7.80847677e-06]
